(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{39:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(31),s=n.n(c),i=(n(39),n(8)),o=n.n(i),u=n(9),l=n(13),h=n(14),j=n(16),d=n(15),p=n(19),b=n.n(p),f="https://micro-blogging-dot-full-stack-course-services.ew.r.appspot.com";function v(){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(f,"/tweet"));case 2:return t=e.sent,e.abrupt("return",t.data.tweets);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat(f,"/tweet"),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),alert("not today: ".concat(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var w=n(1),g=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={content:" ",chars:0},a}return Object(h.a)(n,[{key:"handleSubmit",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Date,t.preventDefault(),this.state.content){e.next=4;break}return e.abrupt("return");case 4:x(a={userName:localStorage.getItem("newName")?localStorage.getItem("newName"):"Incognito",id:Date.now(),content:this.state.content,date:n.toISOString()}),this.props.onNewTweet(a),this.setState({content:""});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(w.jsx)("div",{className:"formDiv",children:Object(w.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"form",children:[Object(w.jsx)("textarea",{placeholder:" What is on your mind",value:this.state.content,onChange:function(t){return e.setState({content:t.target.value,chars:t.target.value.length})}}),Object(w.jsx)("button",{className:"tweetBtn",disabled:(this.state.chars>140||this.props.isLoading)&&!0,children:"Tweet"})]})})}}]),n}(r.a.Component);var N=function(e){var t=e.tweet;return Object(w.jsxs)("div",{className:"tweet",children:[Object(w.jsxs)("div",{className:"title",children:[Object(w.jsx)("div",{className:"userName",children:Object(w.jsx)("p",{children:t.userName})}),Object(w.jsx)("div",{className:"createdTime",children:Object(w.jsx)("p",{children:t.date})})]}),Object(w.jsx)("div",{children:t.content})]})},y=r.a.createContext({tweets:null});var S=function(){var e=Object(a.useContext)(y);return Object(w.jsx)("div",{className:"tweets",children:e.tweets.map((function(e){return Object(w.jsx)(N,{tweet:e},e.id)}))})},k=n(32),T=n.n(k),C={height:"40px",width:"40px",fill:"#017BFF",marginLeft:"45%",marginRight:"45%",marginTop:"20px"},B=function(e){e.type,e.color;return Object(w.jsx)("div",{children:Object(w.jsx)(T.a,{type:"spinningBubbles",color:"#017BFF",height:40,width:40,position:"relative",style:C})})},F=n(12),I=n(2),L=function(){return Object(w.jsxs)("div",{className:"nav",children:[Object(w.jsx)(F.b,{className:"navBtn",to:"/",children:"Home"}),Object(w.jsx)(F.b,{className:"navBtn",to:"/profile",children:"Profile"})]})},D=n(34),P=function(e){var t=Object(a.useState)(""),n=Object(D.a)(t,2),r=n[0],c=n[1];return Object(w.jsxs)("div",{className:"wrapper",children:[Object(w.jsx)("h1",{children:"Profile"}),Object(w.jsx)("h3",{children:"User name"}),Object(w.jsxs)("form",{className:"formProf",onSubmit:function(e){localStorage.setItem("newName",r),c(""),e.preventDefault()},children:[Object(w.jsx)("input",{type:"text",placeholder:"Change your profile name",value:r,className:"inp",onChange:function(e){c(e.target.value)}}),Object(w.jsx)("button",{className:"saveBtn",children:"Save"})]})]})},J=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onChangeName=function(e){a.setState({newName:e})},a.state={tweets:[],isLoading:!1,newName:""},a}return Object(h.a)(n,[{key:"onNewTweet",value:function(e){this.loadTweets()}},{key:"loadTweets",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,v();case 3:t=e.sent,this.setState({tweets:t,isLoading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.loadTweets(),setInterval((function(){e.loadTweets()}),8e3)}},{key:"render",value:function(){var e=this,t=this.state.isLoading;return Object(w.jsx)(y.Provider,{value:this.state,children:Object(w.jsx)("div",{children:Object(w.jsxs)(F.a,{children:[Object(w.jsx)(L,{}),Object(w.jsxs)(I.c,{children:[Object(w.jsxs)(I.a,{exact:!0,path:"/",children:[Object(w.jsx)(g,{onNewTweet:function(t){e.onNewTweet(t)}}),t?Object(w.jsx)(B,{}):Object(w.jsx)("div",{className:"helper"}),Object(w.jsx)(S,{})]}),Object(w.jsx)(I.a,{path:"/profile",children:Object(w.jsx)(P,{})})]})]})})})}}]),n}(r.a.Component),M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(J,{})}),document.getElementById("root")),M()}},[[65,1,2]]]);
//# sourceMappingURL=main.644f2a3c.chunk.js.map